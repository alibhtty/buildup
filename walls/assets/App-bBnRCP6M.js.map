{"version":3,"file":"App-bBnRCP6M.js","sources":["../../src/pages/shorts/BottomNav.jsx","../../src/pages/shorts/hooks/useIsInViewport.js","../../src/pages/shorts/assets/icons/mixtape.svg","../../src/pages/shorts/shorts.jsx","../../src/pages/shorts/App.jsx"],"sourcesContent":["const BottomNav = () => {\n  return (\n    <nav className=\"bottom-nav\">\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-home\"></i>\n      </a>\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-search\"></i>\n      </a>\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-plus\"></i>\n      </a>\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-commenting\"></i>\n      </a>\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-user\"></i>\n      </a>\n    </nav>\n  );\n};\n\nexport default BottomNav;\n","import { useEffect, useState, useMemo } from \"react\";\n\nlet audios = [];\n\nfunction useIsInViewport(ref) {\n  const [isIntersecting, setIsIntersecting] = useState(false);\n\n  const observer = useMemo(\n    () =>\n      new IntersectionObserver(([entry]) => {\n        setIsIntersecting(entry.isIntersecting);\n        if (entry.isIntersecting) {\n          audios.forEach((audio) => {\n            if (audio !== ref.current) {\n              audio.pause();\n            } else {\n              audio.play();\n            }\n          });\n        }\n      }),\n    []\n  );\n\n  useEffect(() => {\n    audios.push(ref.current);\n    observer.observe(ref.current);\n\n    return () => {\n      audios = audios.filter((audio) => audio !== ref.current);\n      observer.disconnect();\n    };\n  }, [ref, observer]);\n\n  return isIntersecting;\n}\n\nexport default useIsInViewport;\n","export default \"__VITE_ASSET__BeRPbvMn__\"","import { useRef, useEffect, useState } from \"react\";\nimport useIsInViewport from \"./hooks/useIsInViewport\";\nimport PlayIcon from './assets/icons/mixtape.svg';\n\nconst Descubre = ({\n  index,\n  songName,\n  songimg,\n  songCut,\n  author,\n  authorLink,\n}) => {\n  const audio = useRef();\n  const isInViewport = useIsInViewport(audio);\n  const [isPaused, setIsPaused] = useState(true);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  useEffect(() => {\n    const currentAudio = audio.current;\n\n    const playWhenReady = () => {\n      if (isInViewport) {\n        currentAudio.play();\n        setIsPaused(false);\n      } else {\n        currentAudio.pause();\n        setIsPaused(true);\n      }\n    };\n\n    currentAudio.addEventListener('canplay', playWhenReady);\n\n    return () => {\n      currentAudio.removeEventListener('canplay', playWhenReady);\n    };\n  }, [isInViewport]);\n\n  useEffect(() => {\n    return () => {\n      const currentAudio = audio.current;\n      if (currentAudio) {\n        currentAudio.pause();\n        setIsPaused(true);\n      }\n    };\n  }, []);\n  \n\n  const togglePlayPause = () => {\n    if (audio.current.paused) {\n      audio.current.play();\n      setIsPaused(false);\n      setIsPlaying(true);\n    } else {\n      audio.current.pause();\n      setIsPaused(true);\n      setIsPlaying(false);\n    }\n  };\n\n  return (    \n    <div className=\"slider-children\">\n        {/* <div className=\"marge-reel\"> </div> */}\n        <div className={`background-image ${isPlaying ? 'playing' : ''}`} style={{backgroundImage: `url(${songimg})`}}></div>\n            <img src={songimg} alt={songName} className={`song-image ${isPlaying ? 'playing' : ''}`}/>\n            <audio className=\"audio\"\n                ref={audio}\n                id={index}\n                //autoPlay={index === \"1\"}\n                //loop\n                //playsInline\n                >\n              <source src={songCut} type=\"audio/mp3\" />\n            </audio>\n\n            <div className=\"audio-overlay\" onClick={togglePlayPause}>\n                {isPaused && <img src={PlayIcon} alt=\"Play\" className=\"play-icon\"/>}\n            </div>\n\n            <div className=\"audio-content\">\n              <p className=\"m-0\">@{author}</p>\n              <p>\n                Post by <a href={authorLink}>{author} </a> en Mixtape\n              </p>\n            </div>\n    </div>\n\n  );\n};\n\nexport default Descubre;\n","import { useState, useEffect } from \"react\";\nimport BottomNav from \"./BottomNav\";\nimport Descubre from \"./shorts\";\nimport \"./assets/index.css\";\nimport { DESCUBRE } from '../../data/reels';\n//import { videos } from './assets/reel.js';\nimport Topnav from '../../component/topnav/topnav';\n\nfunction App() {\n  const [videosState, setVideos] = useState([]);\n  const [videosLoaded, setvideosLoaded] = useState(false);\n\n  useEffect(() => {\n    setVideos(DESCUBRE); // Usa el array de videos importado desde reel.js\n    setvideosLoaded(true);\n  }, []);\n\n  return (\n    <main>\n      {/* <Topnav /> */}\n      \n      <div className=\"slider-container\">\n        {videosLoaded && videosState.length > 0 ? (\n          <div>\n            {videosState.map((video, id) => (\n              <Descubre\n                key={id}\n                index={video.index}\n                songName={video.songName}\n                songimg={video.songimg}\n                songCut={video.songCut}\n                author={video.author}\n                authorLink={video.authorLink}\n                miniatura={video.miniatura}\n              />\n            ))}\n          </div>\n        ) : (\n          <div>Loading...</div>\n        )}\n      </div>\n\n      <BottomNav />\n    </main>\n  );\n}\n\nexport default App;\n"],"names":["BottomNav","jsxs","jsx","audios","useIsInViewport","ref","isIntersecting","setIsIntersecting","useState","observer","useMemo","entry","audio","useEffect","PlayIcon","Descubre","index","songName","songimg","songCut","author","authorLink","useRef","isInViewport","isPaused","setIsPaused","isPlaying","setIsPlaying","currentAudio","playWhenReady","togglePlayPause","App","videosState","setVideos","videosLoaded","setvideosLoaded","DESCUBRE","video","id"],"mappings":"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"}