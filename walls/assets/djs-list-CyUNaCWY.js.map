{"version":3,"file":"djs-list-CyUNaCWY.js","sources":["../../src/component/cards/djs/djs-list.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { connect } from 'react-redux';\nimport { changeTrack } from '../../../actions';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { motion } from 'framer-motion';\nimport TextBoldL from '../../text/text-bold-l';\nimport Topnav from '../../topnav/topnav';\nimport PlayButton from '../../buttons/play-button';\nimport { PLAYLIST } from '../../../data/index';\nimport styles from \"./djs-list.module.css\";\n\nconst shuffleArray = (array) => array.sort(() => Math.random() - 0.5);\n\nconst PlaylistCardA = ({ data, trackData, isPlaying, changeTheme, changeTrack }) => {\n    const [isthisplay, setIsthisPlay] = useState(false);\n    const [backgroundColor, setBackgroundColor] = useState('');\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if (data) {\n            setIsthisPlay(parseInt(data.index) === trackData.trackKey[0]);\n        }\n    }, [data, trackData.trackKey]);\n\n    const handleDrag = (event, info) => {\n        const maxDragDistance = 320;\n        const progress = Math.min(info.offset.x / maxDragDistance, 1);\n        const hoverColorWithOpacity = `rgba(${data.hoverColor.match(/\\d+/g).join(',')}, ${0.4 + (0.6 * progress)})`;\n        setBackgroundColor(`linear-gradient(135deg, #000, ${hoverColorWithOpacity})`);\n    };\n\n    const handleDragEnd = (event, info) => {\n        if (info.offset.x > 280) {\n            navigate(`/playlist/${data.link}`);\n        } else {\n            setBackgroundColor('');\n        }\n    };\n\n    if (!data) return null;\n\n    return (\n        <div className={styles.PlaylistCardABox}>\n            <Link onMouseOver={changeTheme}>\n                <div \n                    className={styles.PlaylistCardA} \n                    style={{ background: backgroundColor, transition: 'background 0.3s ease' }}\n                >\n                    <motion.div\n                        className={styles.ImgBox}\n                        drag=\"x\"\n                        dragConstraints={{ left: 0, right: 0 }}\n                        dragElastic={0.4}\n                        onDrag={handleDrag}\n                        onDragEnd={handleDragEnd}\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        transition={{ duration: .4 }}\n                    >\n                        <motion.img \n                            src={data.imgUrl} \n                            alt={data.title} \n                            style={{ willChange: 'transform' }}\n                        />\n                    </motion.div>\n                    <div className={styles.Title}>\n                        <TextBoldL>{data.title}</TextBoldL>\n                    </div>\n                </div>\n            </Link>\n            <div\n                onClick={() => changeTrack([parseInt(data.index), 0])} \n                className={`${styles.IconBox} ${isthisplay && isPlaying ? styles.ActiveIconBox : ''}`}\n            >\n                <PlayButton isthisplay={isthisplay}/>\n            </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => ({\n    trackData: state.trackData,\n    isPlaying: state.isPlaying\n});\n\nconst ConnectedPlaylistCardA = connect(mapStateToProps, { changeTrack })(PlaylistCardA);\n\nconst PlaylistSection = () => {\n    const shuffledPlaylist = shuffleArray(PLAYLIST.filter(item => item.type === 'djs').slice(0, 7));\n\n    return ( \n        <section className={styles.Home}>\n            <Topnav />\n\n            <section className={styles.Section}>\n            <div className={styles.SectionDjs}>\n                {shuffledPlaylist.map((item, index) => (\n                    <motion.div \n                        key={`${item.title}-${index}`}\n                        className=\"fade-in2\"\n                        initial={{ opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        transition={{ duration: 0, delay: index * 0.0 }}  /* .5 - 0.15 */\n                    >\n                        <ConnectedPlaylistCardA data={item} />\n                    </motion.div>\n                ))}\n            </div>\n        </section>\n        </section>\n    );\n};\n\nexport default PlaylistSection;\n"],"names":["shuffleArray","array","PlaylistCardA","data","trackData","isPlaying","changeTheme","changeTrack","isthisplay","setIsthisPlay","useState","backgroundColor","setBackgroundColor","navigate","useNavigate","useEffect","handleDrag","event","info","progress","hoverColorWithOpacity","handleDragEnd","jsxs","styles","jsx","Link","motion","TextBoldL","PlayButton","mapStateToProps","state","ConnectedPlaylistCardA","connect","PlaylistSection","shuffledPlaylist","PLAYLIST","item","Topnav","index"],"mappings":"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"}