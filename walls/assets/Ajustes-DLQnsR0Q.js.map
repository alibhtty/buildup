{"version":3,"file":"Ajustes-DLQnsR0Q.js","sources":["../../src/image/app/img-init-w.png","../../src/component/cacheManager/CacheManager.jsx","../../src/component/ajustes/Ajustes.jsx"],"sourcesContent":["export default \"__VITE_ASSET__Dc$9NkA7__\"","import React, { useState, useEffect } from 'react';\nimport defaultImage from '../../image/app/img-init-w.png';\n\nconst CacheManager = () => {\n  const [cachedFiles, setCachedFiles] = useState([]);\n  const [cacheSize, setCacheSize] = useState(0);\n  const [isGridVisible, setIsGridVisible] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [showHeaderFooter, setShowHeaderFooter] = useState(true); // Estado para controlar la visibilidad del header y footer\n\n  // Obtener la lista de archivos en caché y calcular el tamaño total\n  const getCachedFiles = async () => {\n    if ('caches' in window) {\n      const cacheNames = await caches.keys();\n      let totalSize = 0;\n\n      const files = await Promise.all(\n        cacheNames.map(async (cacheName) => {\n          const cache = await caches.open(cacheName);\n          const requests = await cache.keys();\n          const filesInCache = await Promise.all(\n            requests.map(async (request) => {\n              const response = await cache.match(request);\n              if (response) {\n                const clonedResponse = response.clone();\n                const blob = await clonedResponse.blob();\n                const sizeInBytes = blob.size;\n                totalSize += sizeInBytes;\n\n                return {\n                  url: request.url,\n                  blobUrl: URL.createObjectURL(blob),\n                  size: sizeInBytes,\n                };\n              }\n              return null;\n            })\n          );\n          return filesInCache.filter(Boolean);\n        })\n      );\n\n      const flattenedFiles = files.flat();\n\n      // Convertir tamaño a KB o MB para visualización\n      const formattedFiles = flattenedFiles.map((file) => {\n        let sizeInKB = Math.round(file.size / 1024); // Tamaño en KB sin decimales\n        const sizeLabel = sizeInKB < 1024 ? `${sizeInKB} KB` : `${Math.round(sizeInKB / 1024)} MB`;\n        return { ...file, sizeLabel };\n      });\n\n      // Ordenar archivos de mayor a menor tamaño\n      formattedFiles.sort((a, b) => b.size - a.size);\n\n      setCachedFiles(formattedFiles);\n      setCacheSize(Math.round(totalSize / 1024 / 1024)); // Convertir a MB sin decimales\n    }\n  };\n\n  // Limpiar la caché\n  const clearCache = async () => {\n    if ('caches' in window) {\n      const cacheNames = await caches.keys();\n      await Promise.all(cacheNames.map((name) => caches.delete(name)));\n      setCachedFiles([]); // Limpia la lista en el estado\n      setCacheSize(0); // Reinicia el tamaño de caché\n    }\n  };\n\n  useEffect(() => {\n    getCachedFiles(); // Obtener la lista de archivos cuando el componente se monta\n  }, []);\n\n  // Mostrar el modal con la imagen seleccionada\n  const openImageModal = (image) => {\n    setSelectedImage(image);\n    setShowHeaderFooter(false); // Oculta el header y footer cuando se abre el modal\n  };\n\n  // Cerrar el modal\n  const closeImageModal = () => {\n    setSelectedImage(null);\n    setShowHeaderFooter(true); // Muestra el header y footer cuando se cierra el modal\n  };\n\n  // Alternar visibilidad del grid\n  const toggleGridVisibility = () => {\n    setIsGridVisible(!isGridVisible);\n  };\n\n  // Función para manejar errores de carga de imagen\n  const handleImageError = (event) => {\n    event.target.src = defaultImage; // Reemplaza con la imagen por defecto si ocurre un error\n  };\n\n  return (\n    <div\n      style={{\n        padding: '20px',\n        //margin: '0 32px',\n        backgroundColor: '#222',\n        borderRadius: '1em',\n        position: 'relative',\n        overflow: 'hidden',\n        marginBottom: '8em',\n      }}\n    >\n      {/* Imagen de fondo fija */}\n      <div\n        style={{\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          bottom: 0,\n          width: '35%',\n          backgroundImage: 'url(/image/app/delete-cache.png)', // Ruta de la imagen PNG\n          backgroundSize: 'cover',\n          maxHeight: '20vh',\n          backgroundPosition: 'center',\n          opacity: 0.5,\n          zIndex: 0,\n        }}\n      />\n      <div style={{ position: 'relative', zIndex: 1 }}>\n        <h3 style={{ color: '#fff' }}>Almacenamiento:</h3>\n        <button\n          onClick={clearCache}\n          style={{\n            marginBottom: '1em',\n            marginTop: '1.5em',\n            padding: '12px 20px',\n            backgroundColor: '#570f0f', /* ff4d4f */\n            color: '#ff4c4c', /* fff */\n            fontWeight: '600',\n            border: 'none',\n            borderRadius: '50px', // Esquinas totalmente redondeadas\n            cursor: 'pointer',\n            transition: 'background-color 0.3s',\n          }}\n          onMouseEnter={(e) => (e.target.style.backgroundColor = '#402727')}\n          onMouseLeave={(e) => (e.target.style.backgroundColor = '#570f0f')}\n        >\n          Borrar {cacheSize}MB en Caché\n        </button>\n\n        <h4 style={{ color: '#999', fontSize: '10px', cursor: 'pointer', marginBottom:'1em' }}> El espacio en caché se utiliza <br /> mejorar para la fluidez de la app.</h4> <br />\n\n\n        <div>\n          <h4\n            style={{ color: '#eee', fontSize: '12px', cursor: 'pointer' }}\n            onClick={toggleGridVisibility}\n          >\n            {isGridVisible ? 'Ocultar' : 'Ver'} archivos en caché\n          </h4>\n          {isGridVisible && (\n            <div\n              style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(4, 1fr)',\n                gap: '10px',\n                transition: 'all 0.3s ease',\n              }}\n            >\n              {cachedFiles.length > 0 ? (\n                cachedFiles.map((file, index) => (\n                  <div\n                    key={index}\n                    style={{\n                      position: 'relative',\n                      borderRadius: 8,\n                      backgroundColor: '#222',\n                      width: '100%',\n                      paddingBottom: '100%', // Mantiene la relación de aspecto cuadrada\n                      overflow: 'hidden',\n                      cursor: 'pointer',\n                    }}\n                    onClick={() => openImageModal(file)}\n                  >\n                    <img\n                      src={file.blobUrl}\n                      alt={`img ${index}`}\n                      onError={handleImageError} // Maneja el error de carga\n                      style={{\n                        position: 'absolute',\n                        top: 0,\n                        left: 0,\n                        fontSize: '8px',\n                        width: '100%',\n                        height: '100%',\n                        objectFit: 'cover',\n                        borderRadius: '8px',\n                        opacity: 0.3, // Opacidad de la imagen\n                      }}\n                    />\n                    <div\n                      style={{\n                        position: 'absolute',\n                        display: 'flex',\n                        width: '100%',\n                        justifyContent: 'center',\n                        top: '50%',\n                        left: '50%',\n                        transform: 'translate(-50%, -50%)',\n                        color: '#f1f1f1',\n                        fontWeight: 'bold',\n                        fontSize: '11px',\n                        textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)',\n                      }}\n                    >\n                      {file.sizeLabel}\n                    </div>\n                  </div>\n                ))\n              ) : (\n                <p\n                  style={{\n                    color: '#999',\n                    minWidth: '4em',\n                    width: '100%', /* 285px */\n                    fontSize: '12px',\n                    textAlign: 'center',\n                    marginTop:'1.5em'\n                  }}\n                >\n                  Sin archivos en caché\n                </p>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Modal para la imagen seleccionada */}\n        {selectedImage && (\n          <div\n            style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              backgroundColor: 'rgba(0, 0, 0, 0.6)',\n              backdropFilter: 'blur(20px)',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              zIndex: 1000,\n              overflow: 'hidden', // Asegura que el contenido del modal no se desborde\n            }}\n            onClick={closeImageModal}\n          >\n            <img\n              src={selectedImage.blobUrl || defaultImage} // Usa la imagen por defecto si blobUrl no está disponible\n              alt=\"img\"\n              style={{\n                maxWidth: '60%',\n                maxHeight: '60%',\n                borderRadius: '8px',\n              }}\n            />\n          </div>\n        )}\n\n        {/* Media Queries */}\n        <style>\n          {`\n            @media (min-width: 1024px) {\n              div[style*=\"grid-template-columns\"] {\n                grid-template-columns: repeat(8, 1fr) !important;\n              }\n            }\n          `}\n        </style>\n      </div>\n    </div>\n  );\n};\n\nexport default CacheManager;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore, doc, getDoc, updateDoc } from 'firebase/firestore';\nimport { Link } from 'react-router-dom';\nimport styles from './Ajustes.module.css';\nimport CacheManager from '../cacheManager/CacheManager';\n\n// Opciones de avatares e iconos de la app\nconst avatarOptions = [\n  './image/app/users/00.jpg',\n  './image/app/users/01.jpg',\n  './image/app/users/02.jpg',\n  './image/app/users/03.jpg',\n  './image/app/users/04.jpg',\n  './image/app/users/05.jpg',\n];\n\nconst appIconOptions = [\n  './image/app/icons/icon-1.png',\n  './image/app/icons/icon-2.png',\n  './image/app/icons/icon-3.png',\n];\n\n// Componente Accordion\nconst Accordion = ({ title, content }) => {\n  const detailsRef = useRef(null);\n\n  const handleToggle = (e) => {\n    e.preventDefault();\n    const detailsElement = detailsRef.current;\n    const summaryElement = detailsElement.querySelector(\"summary\");\n    const contentElement = detailsElement.querySelector(`.${styles.faqContent}`);\n    const expandIcon = summaryElement.querySelector(`.${styles.expandIcon}`);\n\n    if (detailsElement.open) {\n      detailsElement.style.height = `${detailsElement.offsetHeight}px`;\n      detailsElement.animate(\n        { height: [`${detailsElement.offsetHeight}px`, `${summaryElement.offsetHeight}px`] },\n        { duration: 400, easing: \"ease-out\" }\n      ).onfinish = () => {\n        detailsElement.open = false;\n        detailsElement.style.height = \"\";\n        expandIcon.style.transform = \"rotate(0deg)\";\n      };\n    } else {\n      detailsElement.style.height = `${detailsElement.offsetHeight}px`;\n      detailsElement.open = true;\n      window.requestAnimationFrame(() => {\n        detailsElement.animate(\n          {\n            height: [`${detailsElement.offsetHeight}px`, `${summaryElement.offsetHeight + contentElement.offsetHeight}px`],\n          },\n          { duration: 400, easing: \"ease-out\" }\n        ).onfinish = () => {\n          detailsElement.style.height = \"\";\n          expandIcon.style.transform = \"rotate(90deg)\";\n        };\n      });\n    }\n  };\n\n  return (\n    <details ref={detailsRef} onClick={handleToggle} className={styles.details}>\n      <summary className={styles.summary}>\n        <span className={styles.faqTitle}>{title}</span>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={styles.expandIcon}\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          strokeWidth=\"2\"\n          stroke=\"currentColor\"\n          fill=\"none\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n          <path d=\"M9 6l6 6-6 6\" />\n        </svg>\n      </summary>\n      <div className={styles.faqContent}>{content}</div>\n    </details>\n  );\n};\n\nconst Ajustes = () => {\n  const [name, setName] = useState('Anónimo');\n  const [registrationDate, setRegistrationDate] = useState('');\n  const [profilePic, setProfilePic] = useState(avatarOptions[0]);\n  const [avatarSelectorVisible, setAvatarSelectorVisible] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [tempAvatar, setTempAvatar] = useState(null);\n\n  const [appIcon, setAppIcon] = useState(appIconOptions[0]);\n  const [appIconSelectorVisible, setAppIconSelectorVisible] = useState(false);\n  const [tempAppIcon, setTempAppIcon] = useState(null);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      const authInstance = getAuth();\n      const dbInstance = getFirestore();\n      const user = authInstance.currentUser;\n\n      if (user) {\n        setIsAuthenticated(true);\n        const userDoc = await getDoc(doc(dbInstance, 'users', user.uid));\n        if (userDoc.exists()) {\n          const data = userDoc.data();\n          setName(data.name);\n          setRegistrationDate(data.registrationDate);\n          setProfilePic(data.profilePic || avatarOptions[0]);\n        }\n      } else {\n        setIsAuthenticated(false);\n        const savedAvatar = localStorage.getItem('avatar');\n        setProfilePic(savedAvatar || avatarOptions[0]);\n        setName('Anónimo');\n      }\n    };\n\n    // Cargar icono de app desde localStorage\n    const savedAppIcon = localStorage.getItem('appIcon');\n    if (savedAppIcon) {\n      setAppIcon(savedAppIcon);\n    }\n\n    fetchUserData();\n  }, []);\n\n  const handleAvatarClick = () => {\n    setAvatarSelectorVisible(!avatarSelectorVisible);\n  };\n\n  const handleAvatarSelect = (avatar) => {\n    setTempAvatar(avatar);\n  };\n\n  const confirmAvatarChange = async () => {\n    const authInstance = getAuth();\n    const user = authInstance.currentUser;\n\n    if (user && tempAvatar) {\n      const dbInstance = getFirestore();\n      const userDocRef = doc(dbInstance, 'users', user.uid);\n      await updateDoc(userDocRef, { profilePic: tempAvatar });\n      setProfilePic(tempAvatar);\n      setTempAvatar(null);\n      setAvatarSelectorVisible(false);\n    } else if (!user && tempAvatar) {\n      localStorage.setItem('avatar', tempAvatar);\n      setProfilePic(tempAvatar);\n      setTempAvatar(null);\n      setAvatarSelectorVisible(false);\n    }\n  };\n\n  const cancelAvatarChange = () => {\n    setTempAvatar(null);\n    setAvatarSelectorVisible(false);\n  };\n\n  const handleAppIconClick = () => {\n    setAppIconSelectorVisible(!appIconSelectorVisible);\n  };\n\n  const handleAppIconSelect = (icon) => {\n    setTempAppIcon(icon);\n  };\n\n  const confirmAppIconChange = () => {\n    if (tempAppIcon) {\n      // Determine which manifest to use based on the selected icon\n      const manifestName = tempAppIcon === appIconOptions[0] ? 'icon1' :\n                           tempAppIcon === appIconOptions[1] ? 'icon2' :\n                           'icon3'; // default to 'icon3' if none of the above\n\n      localStorage.setItem('appIcon', tempAppIcon); // Guardar en localStorage\n      localStorage.setItem('appManifest', manifestName); // Guardar nombre del manifest en localStorage\n\n      setAppIcon(tempAppIcon);\n      setTempAppIcon(null);\n      setAppIconSelectorVisible(false);\n\n      // Forzar recarga para aplicar cambios\n      window.location.reload();\n    }\n  };\n\n  const cancelAppIconChange = () => {\n    setTempAppIcon(null);\n    setAppIconSelectorVisible(false);\n  };\n\n  const faqs = [\n    {\n      title: \"Cómo instalar en iOS\",\n      content: \"Presiona en 'Compartir' y luego 'Añadir a pantalla de Inicio'. Puedes cambiar el icono manualmente seleccionando un nuevo icono y siguiendo los pasos que se indican.\",\n    },\n    {\n      title: \"Cómo instalar en Android\",\n      content: \"Presiona en 'Compartir' y luego 'Añadir al Home'. Puedes cambiar el icono manualmente seleccionando un nuevo icono y siguiendo los pasos que se indican.\",\n    },\n  ];\n\n  return (\n    <div className={styles.faqContainer}>\n      {/* FOTO DE PERFIL */}\n      <div className={styles.profileSection}>\n        <img\n          src={tempAvatar || profilePic}\n          alt=\"Avatar\"\n          className={styles.profilePic}\n          onClick={handleAvatarClick}\n        />\n        {avatarSelectorVisible && (\n          <>\n            <div className={styles.avatarSelector}>\n              {avatarOptions.map((avatar, index) => (\n                <img\n                  key={index}\n                  src={avatar}\n                  alt={`Avatar ${index + 1}`}\n                  className={styles.avatarOption}\n                  onClick={() => handleAvatarSelect(avatar)}\n                />\n              ))}\n            </div>\n            {tempAvatar && (\n              <div className={styles.avatarActions}>\n                <button className={styles.actionButtonGuardar} onClick={confirmAvatarChange}>Guardar</button>\n                <button className={styles.actionButtonDescartar} onClick={cancelAvatarChange}>Descartar</button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      <section className={styles.userTable}>\n        <Link className={styles.miCuenta} to=\"/profile\"> Nick \n          <div className={styles.userName}>{name}</div>\n        </Link>\n        {/* <Link className={styles.miCuenta} to=\"/dash\"> Dash\n          <div>{registrationDate}</div>\n        </Link> */}\n  \n        {isAuthenticated ? (\n          <div className={styles.miCuenta}> \n            Sesión\n            <div className={styles.userName}>activa</div>\n          </div>\n        ) : (\n          <Link className={styles.miCuenta} to=\"/login\" style={{ backgroundImage: 'linear-gradient(to right, rgba(68,193,81,.3) 0%, rgba(53,80,53,.8) 20%, rgba(145, 255, 202,.45) )' }}> \n            <div className={styles.iniciarSesion}>Iniciar Sesión</div>\n            {/* <div className={styles.inactiveSession}>inactiva</div> */}\n          </Link>\n        )}\n        \n        <Link className={styles.miCuenta} to=\"/4b\"> Versión\n          <div className={styles.userName}>4.1</div>\n        </Link>\n      </section>\n\n      {faqs.map((faq, index) => (\n        <Accordion key={index} title={faq.title} content={faq.content} />\n      ))}\n\n      {/* ICONO DE APP */}\n      {/* <div className={styles.iconSection}>\n        <img\n          src={tempAppIcon || appIcon}\n          alt=\"App Icon\"\n          className={styles.profileIcon}\n          onClick={handleAppIconClick}\n        />\n        {appIconSelectorVisible && (\n          <>\n            <div className={styles.iconSelector}>\n              {appIconOptions.map((icon, index) => (\n                <img\n                  key={index}\n                  src={icon}\n                  alt={`App Icon ${index + 1}`}\n                  className={styles.iconOption}\n                  onClick={() => handleAppIconSelect(icon)}\n                />\n              ))}\n            </div>\n            {tempAppIcon && (\n              <div className={styles.avatarActions}>\n                <button className={styles.actionButtonGuardar} onClick={confirmAppIconChange}>Guardar</button>\n                <button className={styles.actionButtonDescartar} onClick={cancelAppIconChange}>Descartar</button>\n                <div className={styles.avisoIcon}>Reinstala la app desde el navegador <br /> para aplicar los cambios </div>\n              </div>\n            )}\n          </>\n        )}\n      </div> */}\n\n      <CacheManager />\n    </div>\n  );\n};\n\nexport default Ajustes;"],"names":["defaultImage","CacheManager","cachedFiles","setCachedFiles","useState","cacheSize","setCacheSize","isGridVisible","setIsGridVisible","selectedImage","setSelectedImage","showHeaderFooter","setShowHeaderFooter","getCachedFiles","cacheNames","totalSize","formattedFiles","cacheName","cache","requests","request","response","blob","sizeInBytes","file","sizeInKB","sizeLabel","a","b","clearCache","name","useEffect","openImageModal","image","closeImageModal","toggleGridVisibility","handleImageError","event","jsxs","jsx","e","index","avatarOptions","appIconOptions","Accordion","title","content","detailsRef","useRef","handleToggle","detailsElement","summaryElement","contentElement","styles","expandIcon","Ajustes","setName","registrationDate","setRegistrationDate","profilePic","setProfilePic","avatarSelectorVisible","setAvatarSelectorVisible","isAuthenticated","setIsAuthenticated","tempAvatar","setTempAvatar","appIcon","setAppIcon","fetchUserData","authInstance","getAuth","dbInstance","getFirestore","user","userDoc","getDoc","doc","data","savedAvatar","savedAppIcon","handleAvatarClick","handleAvatarSelect","avatar","confirmAvatarChange","userDocRef","updateDoc","cancelAvatarChange","faqs","Fragment","Link","faq"],"mappings":"6iCAAeA,EAAA,GAAA,IAAA,IAAA,0BAAA,YAAA,GAAA,EAAA,KCGTC,GAAe,IAAM,CACzB,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAA,SAAS,CAAE,CAAA,EAC3C,CAACC,EAAWC,CAAY,EAAIF,WAAS,CAAC,EACtC,CAACG,EAAeC,CAAgB,EAAIJ,WAAS,EAAK,EAClD,CAACK,EAAeC,CAAgB,EAAIN,WAAS,IAAI,EACjD,CAACO,EAAkBC,CAAmB,EAAIR,WAAS,EAAI,EAGvDS,EAAiB,SAAY,CACjC,GAAI,WAAY,OAAQ,CAChB,MAAAC,EAAa,MAAM,OAAO,OAChC,IAAIC,EAAY,EA+BhB,MAAMC,GA7BQ,MAAM,QAAQ,IAC1BF,EAAW,IAAI,MAAOG,GAAc,CAClC,MAAMC,EAAQ,MAAM,OAAO,KAAKD,CAAS,EACnCE,EAAW,MAAMD,EAAM,OAmBtB,OAlBc,MAAM,QAAQ,IACjCC,EAAS,IAAI,MAAOC,GAAY,CAC9B,MAAMC,EAAW,MAAMH,EAAM,MAAME,CAAO,EAC1C,GAAIC,EAAU,CAEN,MAAAC,EAAO,MADUD,EAAS,QACE,OAC5BE,EAAcD,EAAK,KACZ,OAAAP,GAAAQ,EAEN,CACL,IAAKH,EAAQ,IACb,QAAS,IAAI,gBAAgBE,CAAI,EACjC,KAAMC,CAAA,CAEV,CACO,OAAA,IAAA,CACR,CAAA,GAEiB,OAAO,OAAO,CAAA,CACnC,CAAA,GAG0B,OAGS,IAAKC,GAAS,CAClD,IAAIC,EAAW,KAAK,MAAMD,EAAK,KAAO,IAAI,EACpC,MAAAE,EAAYD,EAAW,KAAO,GAAGA,CAAQ,MAAQ,GAAG,KAAK,MAAMA,EAAW,IAAI,CAAC,MAC9E,MAAA,CAAE,GAAGD,EAAM,UAAAE,EAAU,CAC7B,EAGDV,EAAe,KAAK,CAACW,EAAGC,IAAMA,EAAE,KAAOD,EAAE,IAAI,EAE7CxB,EAAea,CAAc,EAC7BV,EAAa,KAAK,MAAMS,EAAY,KAAO,IAAI,CAAC,CAClD,CAAA,EAIIc,EAAa,SAAY,CAC7B,GAAI,WAAY,OAAQ,CAChB,MAAAf,EAAa,MAAM,OAAO,OAC1B,MAAA,QAAQ,IAAIA,EAAW,IAAKgB,GAAS,OAAO,OAAOA,CAAI,CAAC,CAAC,EAC/D3B,EAAe,CAAE,CAAA,EACjBG,EAAa,CAAC,CAChB,CAAA,EAGFyB,EAAAA,UAAU,IAAM,CACClB,GACjB,EAAG,CAAE,CAAA,EAGC,MAAAmB,EAAkBC,GAAU,CAChCvB,EAAiBuB,CAAK,EACtBrB,EAAoB,EAAK,CAAA,EAIrBsB,EAAkB,IAAM,CAC5BxB,EAAiB,IAAI,EACrBE,EAAoB,EAAI,CAAA,EAIpBuB,EAAuB,IAAM,CACjC3B,EAAiB,CAACD,CAAa,CAAA,EAI3B6B,EAAoBC,GAAU,CAClCA,EAAM,OAAO,IAAMrC,CAAA,EAInB,OAAAsC,EAAA,KAAC,MAAA,CACC,MAAO,CACL,QAAS,OAET,gBAAiB,OACjB,aAAc,MACd,SAAU,WACV,SAAU,SACV,aAAc,KAChB,EAGA,SAAA,CAAAC,EAAA,IAAC,MAAA,CACC,MAAO,CACL,SAAU,WACV,IAAK,EACL,MAAO,EACP,OAAQ,EACR,MAAO,MACP,gBAAiB,mCACjB,eAAgB,QAChB,UAAW,OACX,mBAAoB,SACpB,QAAS,GACT,OAAQ,CACV,CAAA,CACF,EACAD,OAAC,OAAI,MAAO,CAAE,SAAU,WAAY,OAAQ,CAC1C,EAAA,SAAA,CAAAC,MAAC,MAAG,MAAO,CAAE,MAAO,QAAU,SAAe,kBAAA,EAC7CD,EAAA,KAAC,SAAA,CACC,QAAST,EACT,MAAO,CACL,aAAc,MACd,UAAW,QACX,QAAS,YACT,gBAAiB,UACjB,MAAO,UACP,WAAY,MACZ,OAAQ,OACR,aAAc,OACd,OAAQ,UACR,WAAY,uBACd,EACA,aAAeW,GAAOA,EAAE,OAAO,MAAM,gBAAkB,UACvD,aAAeA,GAAOA,EAAE,OAAO,MAAM,gBAAkB,UACxD,SAAA,CAAA,UACSnC,EAAU,aAAA,CAAA,CACpB,EAECiC,EAAAA,KAAA,KAAA,CAAG,MAAO,CAAE,MAAO,OAAQ,SAAU,OAAQ,OAAQ,UAAW,aAAa,KAAA,EAAS,SAAA,CAAA,yCAAiC,KAAG,EAAA,EAAE,qCAAA,EAAmC,EAAK,UAAE,KAAG,EAAA,SAGzK,MACC,CAAA,SAAA,CAAAA,EAAA,KAAC,KAAA,CACC,MAAO,CAAE,MAAO,OAAQ,SAAU,OAAQ,OAAQ,SAAU,EAC5D,QAASH,EAER,SAAA,CAAA5B,EAAgB,UAAY,MAAM,oBAAA,CAAA,CACrC,EACCA,GACCgC,EAAA,IAAC,MAAA,CACC,MAAO,CACL,QAAS,OACT,oBAAqB,iBACrB,IAAK,OACL,WAAY,eACd,EAEC,WAAY,OAAS,EACpBrC,EAAY,IAAI,CAACsB,EAAMiB,IACrBH,EAAA,KAAC,MAAA,CAEC,MAAO,CACL,SAAU,WACV,aAAc,EACd,gBAAiB,OACjB,MAAO,OACP,cAAe,OACf,SAAU,SACV,OAAQ,SACV,EACA,QAAS,IAAMN,EAAeR,CAAI,EAElC,SAAA,CAAAe,EAAA,IAAC,MAAA,CACC,IAAKf,EAAK,QACV,IAAK,OAAOiB,CAAK,GACjB,QAASL,EACT,MAAO,CACL,SAAU,WACV,IAAK,EACL,KAAM,EACN,SAAU,MACV,MAAO,OACP,OAAQ,OACR,UAAW,QACX,aAAc,MACd,QAAS,EACX,CAAA,CACF,EACAG,EAAA,IAAC,MAAA,CACC,MAAO,CACL,SAAU,WACV,QAAS,OACT,MAAO,OACP,eAAgB,SAChB,IAAK,MACL,KAAM,MACN,UAAW,wBACX,MAAO,UACP,WAAY,OACZ,SAAU,OACV,WAAY,gCACd,EAEC,SAAKf,EAAA,SAAA,CACR,CAAA,CAAA,EA5CKiB,CA8CR,CAAA,EAEDF,EAAA,IAAC,IAAA,CACC,MAAO,CACL,MAAO,OACP,SAAU,MACV,MAAO,OACP,SAAU,OACV,UAAW,SACX,UAAU,OACZ,EACD,SAAA,uBAAA,CAED,CAAA,CAEJ,CAAA,EAEJ,EAGC9B,GACC8B,EAAA,IAAC,MAAA,CACC,MAAO,CACL,SAAU,QACV,IAAK,EACL,KAAM,EACN,MAAO,OACP,OAAQ,OACR,gBAAiB,qBACjB,eAAgB,aAChB,QAAS,OACT,eAAgB,SAChB,WAAY,SACZ,OAAQ,IACR,SAAU,QACZ,EACA,QAASL,EAET,SAAAK,EAAA,IAAC,MAAA,CACC,IAAK9B,EAAc,SAAWT,EAC9B,IAAI,MACJ,MAAO,CACL,SAAU,MACV,UAAW,MACX,aAAc,KAChB,CAAA,CACF,CAAA,CACF,QAID,QACE,CAAA,SAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAOH,CAAA,EACF,CAAA,CAAA,CAAA,CAGN,EC5QM0C,EAAgB,CACpB,2BACA,2BACA,2BACA,2BACA,2BACA,0BACF,EAEMC,GAAiB,CACrB,+BACA,+BACA,8BACF,EAGMC,GAAY,CAAC,CAAE,MAAAC,EAAO,QAAAC,KAAc,CAClC,MAAAC,EAAaC,SAAO,IAAI,EAExBC,EAAgBT,GAAM,CAC1BA,EAAE,eAAe,EACjB,MAAMU,EAAiBH,EAAW,QAC5BI,EAAiBD,EAAe,cAAc,SAAS,EACvDE,EAAiBF,EAAe,cAAc,IAAIG,EAAO,UAAU,EAAE,EACrEC,EAAaH,EAAe,cAAc,IAAIE,EAAO,UAAU,EAAE,EAEnEH,EAAe,MACjBA,EAAe,MAAM,OAAS,GAAGA,EAAe,YAAY,KAC7CA,EAAA,QACb,CAAE,OAAQ,CAAC,GAAGA,EAAe,YAAY,KAAM,GAAGC,EAAe,YAAY,IAAI,CAAE,EACnF,CAAE,SAAU,IAAK,OAAQ,UAAW,CACtC,EAAE,SAAW,IAAM,CACjBD,EAAe,KAAO,GACtBA,EAAe,MAAM,OAAS,GAC9BI,EAAW,MAAM,UAAY,cAAA,IAG/BJ,EAAe,MAAM,OAAS,GAAGA,EAAe,YAAY,KAC5DA,EAAe,KAAO,GACtB,OAAO,sBAAsB,IAAM,CAClBA,EAAA,QACb,CACE,OAAQ,CAAC,GAAGA,EAAe,YAAY,KAAM,GAAGC,EAAe,aAAeC,EAAe,YAAY,IAAI,CAC/G,EACA,CAAE,SAAU,IAAK,OAAQ,UAAW,CACtC,EAAE,SAAW,IAAM,CACjBF,EAAe,MAAM,OAAS,GAC9BI,EAAW,MAAM,UAAY,eAAA,CAC/B,CACD,EACH,EAIA,OAAAhB,OAAC,WAAQ,IAAKS,EAAY,QAASE,EAAc,UAAWI,EAAO,QACjE,SAAA,CAACf,EAAA,KAAA,UAAA,CAAQ,UAAWe,EAAO,QACzB,SAAA,CAAAd,EAAA,IAAC,OAAK,CAAA,UAAWc,EAAO,SAAW,SAAMR,EAAA,EACzCP,EAAA,KAAC,MAAA,CACC,MAAM,6BACN,UAAWe,EAAO,WAClB,MAAM,KACN,OAAO,KACP,QAAQ,YACR,YAAY,IACZ,OAAO,eACP,KAAK,OACL,cAAc,QACd,eAAe,QAEf,SAAA,CAAAd,MAAC,QAAK,OAAO,OAAO,EAAE,gBAAgB,KAAK,OAAO,EAClDA,EAAAA,IAAC,OAAK,CAAA,EAAE,cAAe,CAAA,CAAA,CAAA,CACzB,CAAA,EACF,EACCA,EAAA,IAAA,MAAA,CAAI,UAAWc,EAAO,WAAa,SAAQP,EAAA,CAC9C,CAAA,CAAA,CAEJ,EAEMS,GAAU,IAAM,CACpB,KAAM,CAACzB,EAAM0B,CAAO,EAAIpD,WAAS,SAAS,EACpC,CAACqD,EAAkBC,CAAmB,EAAItD,WAAS,EAAE,EACrD,CAACuD,EAAYC,CAAa,EAAIxD,EAAS,SAAAsC,EAAc,CAAC,CAAC,EACvD,CAACmB,EAAuBC,CAAwB,EAAI1D,WAAS,EAAK,EAClE,CAAC2D,EAAiBC,CAAkB,EAAI5D,WAAS,EAAK,EACtD,CAAC6D,EAAYC,CAAa,EAAI9D,WAAS,IAAI,EAE3C,CAAC+D,EAASC,CAAU,EAAIhE,EAAS,SAAAuC,GAAe,CAAC,CAAC,EACIvC,EAAAA,SAAS,EAAK,EACpCA,EAAAA,SAAS,IAAI,EAEnD2B,EAAAA,UAAU,IAAM,CACd,MAAMsC,EAAgB,SAAY,CAChC,MAAMC,EAAeC,IACfC,EAAaC,IACbC,EAAOJ,EAAa,YAE1B,GAAII,EAAM,CACRV,EAAmB,EAAI,EACjB,MAAAW,EAAU,MAAMC,EAAOC,EAAIL,EAAY,QAASE,EAAK,GAAG,CAAC,EAC3D,GAAAC,EAAQ,SAAU,CACd,MAAAG,EAAOH,EAAQ,OACrBnB,EAAQsB,EAAK,IAAI,EACjBpB,EAAoBoB,EAAK,gBAAgB,EACzClB,EAAckB,EAAK,YAAcpC,EAAc,CAAC,CAAC,CACnD,CAAA,KACK,CACLsB,EAAmB,EAAK,EAClB,MAAAe,EAAc,aAAa,QAAQ,QAAQ,EACnCnB,EAAAmB,GAAerC,EAAc,CAAC,CAAC,EAC7Cc,EAAQ,SAAS,CACnB,CAAA,EAIIwB,EAAe,aAAa,QAAQ,SAAS,EAC/CA,GACFZ,EAAWY,CAAY,EAGXX,GAChB,EAAG,CAAE,CAAA,EAEL,MAAMY,EAAoB,IAAM,CAC9BnB,EAAyB,CAACD,CAAqB,CAAA,EAG3CqB,EAAsBC,GAAW,CACrCjB,EAAciB,CAAM,CAAA,EAGhBC,EAAsB,SAAY,CAEtC,MAAMV,EADeH,IACK,YAE1B,GAAIG,GAAQT,EAAY,CACtB,MAAMO,EAAaC,IACbY,EAAaR,EAAIL,EAAY,QAASE,EAAK,GAAG,EACpD,MAAMY,EAAUD,EAAY,CAAE,WAAYpB,CAAY,CAAA,EACtDL,EAAcK,CAAU,EACxBC,EAAc,IAAI,EAClBJ,EAAyB,EAAK,CAAA,KACrB,CAACY,GAAQT,IACL,aAAA,QAAQ,SAAUA,CAAU,EACzCL,EAAcK,CAAU,EACxBC,EAAc,IAAI,EAClBJ,EAAyB,EAAK,EAChC,EAGIyB,EAAqB,IAAM,CAC/BrB,EAAc,IAAI,EAClBJ,EAAyB,EAAK,CAAA,EAmC1B0B,EAAO,CACX,CACE,MAAO,uBACP,QAAS,uKACX,EACA,CACE,MAAO,2BACP,QAAS,0JACX,CAAA,EAGF,OACGlD,EAAAA,KAAA,MAAA,CAAI,UAAWe,EAAO,aAErB,SAAA,CAACf,EAAA,KAAA,MAAA,CAAI,UAAWe,EAAO,eACrB,SAAA,CAAAd,EAAA,IAAC,MAAA,CACC,IAAK0B,GAAcN,EACnB,IAAI,SACJ,UAAWN,EAAO,WAClB,QAAS4B,CAAA,CACX,EACCpB,GAEGvB,EAAA,KAAAmD,WAAA,CAAA,SAAA,CAAClD,EAAAA,IAAA,MAAA,CAAI,UAAWc,EAAO,eACpB,WAAc,IAAI,CAAC8B,EAAQ1C,IAC1BF,EAAA,IAAC,MAAA,CAEC,IAAK4C,EACL,IAAK,UAAU1C,EAAQ,CAAC,GACxB,UAAWY,EAAO,aAClB,QAAS,IAAM6B,EAAmBC,CAAM,CAAA,EAJnC1C,CAMR,CAAA,EACH,EACCwB,GACC3B,EAAA,KAAC,MAAI,CAAA,UAAWe,EAAO,cACrB,SAAA,CAAAd,MAAC,UAAO,UAAWc,EAAO,oBAAqB,QAAS+B,EAAqB,SAAO,UAAA,QACnF,SAAO,CAAA,UAAW/B,EAAO,sBAAuB,QAASkC,EAAoB,SAAS,YAAA,CAAA,EACzF,CAAA,EAEJ,CAAA,EAEJ,EAECjD,EAAA,KAAA,UAAA,CAAQ,UAAWe,EAAO,UACzB,SAAA,CAAAf,OAACoD,EAAK,CAAA,UAAWrC,EAAO,SAAU,GAAG,WAAW,SAAA,CAAA,QAC7Cd,EAAA,IAAA,MAAA,CAAI,UAAWc,EAAO,SAAW,SAAKvB,EAAA,CAAA,EACzC,EAKCiC,EACCzB,EAAA,KAAC,MAAI,CAAA,UAAWe,EAAO,SAAU,SAAA,CAAA,SAE9Bd,EAAA,IAAA,MAAA,CAAI,UAAWc,EAAO,SAAU,SAAM,SAAA,CAAA,CAAA,CACzC,EAECd,EAAAA,IAAAmD,EAAA,CAAK,UAAWrC,EAAO,SAAU,GAAG,SAAS,MAAO,CAAE,gBAAiB,mGAAA,EACtE,SAACd,MAAA,MAAA,CAAI,UAAWc,EAAO,cAAe,0BAAc,CAEtD,CAAA,SAGDqC,EAAK,CAAA,UAAWrC,EAAO,SAAU,GAAG,MAAM,SAAA,CAAA,WACxCd,EAAA,IAAA,MAAA,CAAI,UAAWc,EAAO,SAAU,SAAG,MAAA,CAAA,EACtC,CAAA,EACF,EAECmC,EAAK,IAAI,CAACG,EAAKlD,IACbF,EAAAA,IAAAK,GAAA,CAAsB,MAAO+C,EAAI,MAAO,QAASA,EAAI,OAAA,EAAtClD,CAA+C,CAChE,QAkCAxC,GAAa,EAAA,CAChB,CAAA,CAAA,CAEJ"}